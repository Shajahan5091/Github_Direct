version: 2
sources:
- name: dwh_raw
  database: bsl_raw
  schema: dwh_raw
  description: Raw data warehouse schema containing source system data for addresses, categories, customers, and inventory
  tables:
  - name: addresses
    description: Customer address information with geographical details
    columns:
    - name: address_id
      description: Unique identifier for each address record
    - name: customer_id
      description: Foreign key reference to customers table
    - name: address_line1
      description: Primary address line containing street information
    - name: city
      description: City name for the address
    - name: country
      description: Country name for the address
    - name: inserted_at
      description: Timestamp when the address record was inserted, to be converted to date
  - name: categories
    description: Product category hierarchy with active status tracking
    columns:
    - name: category_id
      description: Unique identifier for each category
    - name: category_name
      description: Display name of the category
    - name: parent_category_id
      description: Reference to parent category for hierarchical structure
    - name: is_active
      description: Boolean flag indicating if category is active, defaults to true if null
  - name: customers
    description: Customer master data with contact information and audit timestamps
    columns:
    - name: customer_id
      description: Unique identifier for each customer
    - name: first_name
      description: Customer's first name
    - name: last_name
      description: Customer's last name
    - name: email
      description: Customer's email address
    - name: inserted_at
      description: Timestamp when customer record was created, defaults to current_date if null
  - name: inventory
    description: Product inventory levels by supplier and warehouse location with update tracking
    columns:
    - name: product_id
      description: Unique identifier for the product
    - name: supplier_id
      description: Unique identifier for the supplier
    - name: stock_qty
      description: Current stock quantity available
    - name: warehouse_location
      description: Physical location where inventory is stored
    - name: last_updated
      description: Timestamp of last inventory update, used to identify latest records per product and supplier