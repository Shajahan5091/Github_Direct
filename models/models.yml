version: 2
models:
- name: dim_address
  description: Dimension table containing customer address information with standardized formatting
  columns:
  - name: address_id
    description: Unique identifier for each address record
    tests:
    - unique
  - name: customer_id
    description: Foreign key reference to customer dimension table
  - name: address_line1
    description: Primary address line with trimmed whitespace
  - name: city
    description: City name in uppercase format
  - name: country
    description: Country name for the address
  - name: inserted_at
    description: Date when the address record was created
- name: dim_category
  description: Dimension table for product categories with hierarchical structure
  columns:
  - name: category_id
    description: Unique identifier for each category
    tests:
    - unique
  - name: category_name
    description: Category name in title case format
  - name: parent_category_id
    description: Reference to parent category for hierarchical structure
  - name: category_path
    description: Full hierarchical path showing parent and current category
  - name: is_active
    description: Boolean flag indicating if category is currently active
    tests:
    - accepted_values:
        values: [true, false]
- name: dim_customer
  description: Dimension table containing customer information and derived attributes
  columns:
  - name: customer_id
    description: Unique identifier for each customer
    tests:
    - unique
  - name: first_name
    description: Customer first name in uppercase format
  - name: last_name
    description: Customer last name in uppercase format
  - name: email
    description: Customer email address in lowercase format
  - name: customer_since_date
    description: Date when customer first registered
  - name: customer_tier
    description: Customer spending tier based on last 365 days activity
    tests:
    - accepted_values:
        values: ['Gold', 'Silver', 'Bronze']
- name: dim_product
  description: Dimension table for product information with pricing categories
  columns:
  - name: product_id
    description: Unique identifier for each product
    tests:
    - unique
  - name: product_name
    description: Product name in title case format
  - name: price
    description: Product price with decimal precision
  - name: price_band
    description: Price category bucket for product segmentation
    tests:
    - accepted_values:
        values: ['Low', 'Mid', 'High', 'Premium']
- name: dim_supplier
  description: Dimension table containing supplier information and contact details
  columns:
  - name: supplier_id
    description: Unique identifier for each supplier
    tests:
    - unique
  - name: supplier_name
    description: Supplier name in title case format
  - name: contact_email
    description: Supplier contact email in lowercase format
  - name: country
    description: Supplier country in uppercase format
  - name: is_active
    description: Boolean flag indicating if supplier is currently active
    tests:
    - accepted_values:
        values: [true, false]
- name: fact_inventory
  description: Fact table tracking inventory levels by product and supplier with snapshot capability
  columns:
  - name: product_id
    description: Foreign key reference to product dimension
    tests:
    - not_null
  - name: supplier_id
    description: Foreign key reference to supplier dimension
  - name: stock_qty
    description: Current stock quantity available
  - name: warehouse_location
    description: Warehouse location in uppercase format
  - name: snapshot_date
    description: Date of inventory snapshot
  - name: is_latest
    description: Flag indicating the most recent inventory record per product-supplier combination
- name: fact_order
  description: Fact table containing order header information and status tracking
  columns:
  - name: order_id
    description: Unique identifier for each order
    tests:
    - unique
  - name: customer_id
    description: Foreign key reference to customer dimension
  - name: order_date
    description: Date when order was placed
    tests:
    - not_null
  - name: order_status
    description: Current status of the order in standardized format
    tests:
    - accepted_values:
        values: ['PENDING', 'CANCELLED', 'SHIPPED', 'DELIVERED']
  - name: total_amount
    description: Total monetary value of the order
- name: fact_order_item
  description: Fact table containing individual line items within orders with calculated amounts
  columns:
  - name: order_item_id
    description: Unique identifier for each order line item
    tests:
    - unique
  - name: order_id
    description: Foreign key reference to order fact table
  - name: product_id
    description: Foreign key reference to product dimension
  - name: quantity
    description: Quantity of product ordered
  - name: unit_price
    description: Price per unit of the product
  - name: extended_amount
    description: Calculated total before discounts (quantity * unit_price)
  - name: discount_amount
    description: Proportionally allocated discount amount for this line item
  - name: net_amount
    description: Final amount after applying discounts
- name: fact_payment
  description: Fact table tracking payment transactions and completion status
  columns:
  - name: payment_id
    description: Unique identifier for each payment transaction
    tests:
    - unique
  - name: order_id
    description: Foreign key reference to order fact table
  - name: payment_date
    description: Date when payment was processed
    tests:
    - not_null
  - name: payment_method
    description: Method used for payment in standardized format
    tests:
    - accepted_values:
        values: ['CARD', 'UPI', 'COD', 'NETBANKING']
  - name: amount
    description: Payment amount processed
  - name: is_fully_applied
    description: Flag indicating if total payments cover the full order amount
- name: fact_shipment
  description: Fact table containing shipment tracking and delivery performance metrics
  columns:
  - name: shipment_id
    description: Unique identifier for each shipment
    tests:
    - unique
  - name: order_id
    description: Foreign key reference to order fact table
  - name: shipped_date
    description: Date when shipment was dispatched
    tests:
    - not_null
  - name: days_to_ship
    description: Number of days between order placement and shipment
  - name: carrier
    description: Shipping carrier name in uppercase format
  - name: tracking_number
    description: Carrier-provided tracking identifier